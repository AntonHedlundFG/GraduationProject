\doxysection{CAttribute\+Component.\+h}
\hypertarget{_c_attribute_component_8h_source}{}\label{_c_attribute_component_8h_source}\index{TacticalRogueLite/Source/TacticalRogueLite/Public/Attributes/CAttributeComponent.h@{TacticalRogueLite/Source/TacticalRogueLite/Public/Attributes/CAttributeComponent.h}}
\mbox{\hyperlink{_c_attribute_component_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}CoreMinimal.h"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}Components/ActorComponent.h"{}}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}GameplayTagContainer.h"{}}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ "{}CAttributeComponent.generated.h"{}}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \mbox{\hyperlink{_c_attribute_component_8h_aecf33fb0a1d2e894d753892b97ade5d5}{DECLARE\_DYNAMIC\_MULTICAST\_DELEGATE\_FourParams}}(FOnHealthChanged,\ AActor*,\ InstigatorActor,\ UCAttributeComponent*,\ OwningComp,\ \textcolor{keywordtype}{float},\ NewHealth,\ \textcolor{keywordtype}{float},\ Delta);}
\DoxyCodeLine{00010\ \mbox{\hyperlink{_c_attribute_component_8h_aecf33fb0a1d2e894d753892b97ade5d5}{DECLARE\_DYNAMIC\_MULTICAST\_DELEGATE\_FourParams}}(FOnRageChanged,\ AActor*,\ InstigatorActor,\ UCAttributeComponent*,\ OwningComp,\ \textcolor{keywordtype}{float},\ NewRage,\ \textcolor{keywordtype}{float},\ Delta);}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{comment}{//Säga\ till\ visualeffectcomp\ att\ något\ har\ ändrats(repl\ relaterat)}}
\DoxyCodeLine{00013\ \mbox{\hyperlink{_c_attribute_component_8h_ae623c91f9f03524184c90f13405aac84}{DECLARE\_DYNAMIC\_MULTICAST\_DELEGATE}}(FOnActiveGamePlayTagsChanged);}
\DoxyCodeLine{00014\ \textcolor{comment}{//Alternative:\ Share\ the\ same\ signature\ with\ generic\ names.}}
\DoxyCodeLine{00015\ \mbox{\hyperlink{_c_attribute_component_8h_aecf33fb0a1d2e894d753892b97ade5d5}{DECLARE\_DYNAMIC\_MULTICAST\_DELEGATE\_FourParams}}(FOnAttributeChanged,\ AActor*,\ InstigatorActor,\ UCAttributeComponent*,\ OwningComp,\ \textcolor{keywordtype}{float},\ NewValue,\ \textcolor{keywordtype}{float},\ Delta);}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ UCLASS(BlueprintType,\ ClassGroup=(Custom),\ meta=(BlueprintSpawnableComponent)\ )}
\DoxyCodeLine{00019\ \textcolor{keyword}{class\ }TACTICALROGUELITE\_API\ UCAttributeComponent\ :\ \textcolor{keyword}{public}\ UActorComponent}
\DoxyCodeLine{00020\ \{}
\DoxyCodeLine{00021\ \ \ \ \ GENERATED\_BODY()}
\DoxyCodeLine{00022\ \ \ \ \ }
\DoxyCodeLine{00023\ public:}
\DoxyCodeLine{00024\ \ \ \ \ }
\DoxyCodeLine{00025\ \ \ \ \ UFUNCTION(BlueprintCallable,\ Category\ =\ "{}Attributes"{})}
\DoxyCodeLine{00026\ \ \ \ \ static\ UCAttributeComponent*\ GetAttributes(AActor*\ FromActor);}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{comment}{//Array\ of\ gameplaytags.\ Contains\ useful\ utility\ function\ on\ it\ like\ "{}HasTag"{},\ "{}HasAnyOfTheseTags"{}.}}
\DoxyCodeLine{00029\ \ \ \ \ UPROPERTY(EditAnywhere,\ BlueprintReadWrite,\ Replicatedusing\ =\ OnRep\_ActiveGameplayTags,\ Category\ =\ "{}Tags"{})}
\DoxyCodeLine{00030\ \ \ \ \ FGameplayTagContainer\ ActiveGameplayTags;}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \ \ \ \ UFUNCTION()}
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{keywordtype}{void}\ OnRep\_ActiveGameplayTags()}
\DoxyCodeLine{00034\ \ \ \ \ \{}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ OnActiveGamePlayTagsChanged.Broadcast();}
\DoxyCodeLine{00036\ \ \ \ \ \}}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \ \ \ \ UPROPERTY(BlueprintAssignable)}
\DoxyCodeLine{00039\ \ \ \ \ FOnActiveGamePlayTagsChanged\ OnActiveGamePlayTagsChanged;}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{comment}{//\ min\ container\ ==\ activegameplaytags(attr)}}
\DoxyCodeLine{00042\ \ \ \ \ }
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \ \ \ \ UFUNCTION(BlueprintCallable,\ Category\ =\ \textcolor{stringliteral}{"{}Attributes"{}},\ meta\ =\ (DisplayName\ =\ \textcolor{stringliteral}{"{}IsAlive"{}}))}
\DoxyCodeLine{00045\ \ \ \ \ static\ \textcolor{keywordtype}{bool}\ IsActorAlive(AActor*\ Actor);}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ \ \ UCAttributeComponent();}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ protected:}
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{comment}{//movement\ turns}}
\DoxyCodeLine{00052\ \ \ \ \ }
\DoxyCodeLine{00053\ \ \ \ \ UPROPERTY(EditDefaultsOnly,\ BlueprintReadOnly,\ ReplicatedUsing=OnRep\_CurrentHealth,\ Category\ =\ "{}Attributes"{})}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keywordtype}{int}\ CurrentHealth;}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \ \ \ \ UFUNCTION()}
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keywordtype}{void}\ OnRep\_CurrentHealth()}
\DoxyCodeLine{00058\ \ \ \ \ \{}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Handle\ visual\ stuff\ based\ on\ CurrentHealth}}
\DoxyCodeLine{00060\ \ \ \ \ \}}
\DoxyCodeLine{00061\ \ \ \ \ }
\DoxyCodeLine{00062\ \ \ \ \ UPROPERTY(EditDefaultsOnly,\ BlueprintReadOnly,\ Replicated,\ Category\ =\ \textcolor{stringliteral}{"{}Attributes"{}})}
\DoxyCodeLine{00063\ \ \ \ \ int\ BaseHealth;}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{comment}{/*Resource\ used\ to\ power\ certain\ Actions*/}}
\DoxyCodeLine{00066\ \ \ \ \ UPROPERTY(EditDefaultsOnly,\ BlueprintReadOnly,\ Replicated,\ Category\ =\ "{}Attributes"{})}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{keywordtype}{float}\ Rage;}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ \ \ \ \ UPROPERTY(EditDefaultsOnly,\ BlueprintReadOnly,\ Replicated,\ Category\ =\ "{}Attributes"{})}
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keywordtype}{float}\ RageMax;}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{comment}{//UPROPERTY(ReplicatedUsing="{}"{})}}
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{comment}{//bool\ bIsAlive;}}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \ \ \ \ UFUNCTION(NetMulticast,\ Reliable)\ \textcolor{comment}{//NOTE:\ could\ mark\ as\ unreliable\ once\ moving\ the\ 'state'\ out\ of\ character(eg.\ once\ its\ cosmetic\ only).}}
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{keywordtype}{void}\ MulticastHealthChanged(AActor*\ InstigatorActor,\ \textcolor{keywordtype}{float}\ NewHealth,\ \textcolor{keywordtype}{float}\ Delta);}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \ \ \ \ UFUNCTION(NetMulticast,\ Unreliable)\ \textcolor{comment}{//\ Used\ for\ cosmetic\ changes\ only}}
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{keywordtype}{void}\ MulticastRageChanged(AActor*\ InstigatorActor,\ \textcolor{keywordtype}{float}\ NewRage,\ \textcolor{keywordtype}{float}\ Delta);}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ public:}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \ \ \ \ UFUNCTION(BlueprintCallable,\ Category\ =\ "{}Attributes"{})}
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keywordtype}{bool}\ Kill(AActor*\ InstigatorActor);}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \ \ \ \ UFUNCTION(BlueprintCallable,\ Category\ =\ "{}Attributes"{})}
\DoxyCodeLine{00087\ \ \ \ \ \textcolor{keywordtype}{bool}\ IsAlive()\ const;}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \ \ \ \ UFUNCTION(BlueprintCallable,\ Category\ =\ "{}Attributes"{})}
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{keywordtype}{bool}\ IsFullHealth()\ const;}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \ \ \ \ UFUNCTION(BlueprintCallable,\ Category\ =\ "{}Attributes"{})}
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{keywordtype}{float}\ GetHealth()\ const;}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \ \ \ \ UFUNCTION(BlueprintCallable,\ Category\ =\ "{}Attributes"{})}
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{keywordtype}{float}\ GetBaseHealth()\ const;}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \ \ \ \ UPROPERTY(BlueprintAssignable,\ Category\ =\ "{}Attributes"{})}
\DoxyCodeLine{00099\ \ \ \ \ FOnAttributeChanged\ OnHealthChanged;}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \ \ \ \ UPROPERTY(BlueprintAssignable,\ Category\ =\ "{}Attributes"{})}
\DoxyCodeLine{00102\ \ \ \ \ FOnAttributeChanged\ OnRageChanged;}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{comment}{//Passing\ in\ the\ difference\ we\ want\ applied.\ Return\ if\ the\ change\ actually\ succeeded.}}
\DoxyCodeLine{00105\ \ \ \ \ UFUNCTION(BlueprintCallable,\ Category\ =\ "{}Attributes"{})}
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{keywordtype}{bool}\ ApplyHealthChange(AActor*\ InstigatorActor,\ \textcolor{keywordtype}{float}\ Delta);}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \ \ \ \ UFUNCTION(BlueprintCallable,\ Category\ =\ "{}Attributes"{})}
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{keywordtype}{void}\ ApplyTagWithDuration(FGameplayTag\ InTag,\ \textcolor{keywordtype}{int}\ Duration);}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{comment}{//\ UFUNCTION(BlueprintCallable)}}
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{comment}{//\ float\ GetRage()\ const;}}
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00114\ \ \ \ \ \textcolor{comment}{//\ UFUNCTION(BlueprintCallable,\ Category\ =\ "{}Attributes"{})}}
\DoxyCodeLine{00115\ \ \ \ \ \textcolor{comment}{//\ bool\ ApplyRage(AActor*\ InstigatorActor,\ float\ Delta);}}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{comment}{//Testing:}}
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{comment}{//UPROPERTY(EditDefaultsOnly,\ BlueprintReadWrite)}}
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{comment}{//FRuntimeFloatCurve\ Curve;}}
\DoxyCodeLine{00120\ \ \ \ \ }
\DoxyCodeLine{00121\ \};}

\end{DoxyCode}
